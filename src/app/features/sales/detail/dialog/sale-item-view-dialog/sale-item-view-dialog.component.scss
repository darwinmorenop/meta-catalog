.dialog-title {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1.5rem 1.5rem 1rem;
  margin: 0;

  .title-content {
    display: flex;
    align-items: center;
    gap: 0.8rem;
    color: var(--text-color);
    
    mat-icon { color: #3f51b5; }
  }

  .close-btn { color: var(--stat-label); }
}

.dialog-content {
  min-width: 550px;
  max-width: 700px;
  padding: 1rem 1.5rem 2rem !important;

  .product-header {
    display: flex;
    gap: 1.5rem;
    align-items: center;
    margin-bottom: 2rem;

    .product-img {
      width: 80px;
      height: 80px;
      object-fit: cover;
      border-radius: 12px;
      border: 1px solid var(--border-color);
      background: var(--bg-color);
    }

    .product-info {
      display: flex;
      flex-direction: column;
      gap: 0.3rem;

      h3 {
        margin: 0;
        font-size: 1.3rem;
        font-weight: 600;
        color: var(--text-color);
      }

      .sku {
        font-size: 0.9rem;
        color: var(--stat-label);
        font-family: monospace;
      }

      .status-badge {
        font-size: 0.8rem;
        padding: 0.2rem 0.6rem;
        border-radius: 20px;
        width: fit-content;
        margin-top: 0.3rem;
        font-weight: 500;

        &[data-status="completed"] { background: #e8f5e9; color: #2e7d32; }
        &[data-status="pending"] { background: #fff3e0; color: #ef6c00; }
        &[data-status="cancelled"] { background: #ffe9e9; color: #c62828; }
        &[data-status="started"] { background: #e3f2fd; color: #1565c0; }
        &[data-status="refunded"] { background: #f3e5f5; color: #7b1fa2; }
      }
    }
  }

  mat-divider { margin-bottom: 2rem; }

  .info-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;

    .info-section {
      display: flex;
      flex-direction: column;
      gap: 1rem;

      &.full-width { grid-column: span 2; }

      .section-title {
        margin: 0;
        font-size: 0.85rem;
        color: var(--stat-label);
        text-transform: uppercase;
        font-weight: 600;
        letter-spacing: 0.5px;
      }

      .info-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding-bottom: 0.5rem;
        border-bottom: 1px dashed var(--border-color);

        .label { font-size: 0.95rem; color: var(--stat-label); }
        .value { font-size: 1rem; font-weight: 500; color: var(--text-color); }

        &.highlight {
          border-bottom: none;
          padding-top: 0.5rem;
          .label { font-weight: 600; color: var(--text-color); }
          .value { font-size: 1.2rem; font-weight: 700; color: #3f51b5; }
        }

        &.profit-row {
          border: none;
          background: rgba(46, 125, 50, 0.05);
          padding: 1rem;
          border-radius: 8px;
          
          .profit-value {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #2e7d32;
            
            mat-icon { font-size: 1.2rem; width: 1.2rem; height: 1.2rem; }
            .value { font-size: 1.3rem; font-weight: 700; color: inherit; }
          }

          &.negative {
            background: rgba(198, 40, 40, 0.05);
            .profit-value { color: #c62828; }
          }
        }
      }

      .description-text {
        margin: 0;
        padding: 1rem;
        background: var(--bg-color);
        border-radius: 8px;
        color: var(--text-color);
        font-style: italic;
      }

      .dates-row {
        display: flex;
        gap: 2rem;
        
        .date-item {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          font-size: 0.85rem;
          color: var(--stat-label);
          mat-icon { font-size: 1.1rem; width: 1.1rem; height: 1.1rem; }
        }
      }
    }
  }
}

:host-context(body.dark-theme) {
  .product-header .product-info .status-badge {
    &[data-status="completed"] { background: rgba(46, 125, 50, 0.2); color: #81c784; }
    &[data-status="pending"] { background: rgba(239, 108, 0, 0.2); color: #ffb74d; }
    &[data-status="cancelled"] { background: rgba(198, 40, 40, 0.2); color: #e57373; }
    &[data-status="started"] { background: rgba(21, 101, 192, 0.2); color: #64b5f6; }
    &[data-status="refunded"] { background: rgba(123, 31, 162, 0.2); color: #ba68c8; }
  }

  .dialog-title .title-content mat-icon { color: #818cf8; }
  .info-grid .info-section .info-row.highlight .value { color: #818cf8; }
  
  .info-grid .info-section .info-row.profit-row {
    background: rgba(129, 140, 248, 0.1);
    .profit-value { color: #818cf8; }
    &.negative {
      background: rgba(248, 113, 113, 0.1);
      .profit-value { color: #f87171; }
    }
  }
}
