<div class="container">
    <header>
        <h1>Gestor de CatÃ¡logo Facebook/Yanbal</h1>
        <p>Importa, procesa y exporta tus productos.</p>
    </header>

    <div class="actions-rows">
        <!-- Row 1: Item Actions (Add, Edit, Delete, Clear) -->
        <div class="actions-row item-actions">
            <button (click)="addProduct()" class="btn-primary">
                â• Agregar Producto
            </button>

            <button (click)="editProduct(selectedProduct()!)" [disabled]="!selectedProduct()" class="btn-primary">
                âœï¸ Editar
            </button>

            <button (click)="deleteProduct(selectedProduct()!)" [disabled]="!selectedProduct()" class="btn-warn">
                ğŸ—‘ï¸ Eliminar
            </button>

            <button (click)="clearData()" *ngIf="products().length > 0" class="btn-warn">
                ğŸ—‘ï¸ Limpiar Todo
            </button>
        </div>

        <!-- Row 2: Data Actions (Import, Export, Changes, Sync) -->
        <div class="actions-row data-actions">
            <button (click)="openImportDialog()" class="btn-primary">
                ğŸ“ Importar Excel
            </button>

            <button (click)="exportData()" [disabled]="products().length === 0" class="btn-success">
                â¬‡ï¸ Exportar
            </button>

            <button (click)="viewChanges()" *ngIf="changes().length > 0" class="btn-warn">
                âš ï¸ Ver Cambios ({{ changes().length }})
            </button>
            <button (click)="syncWithBackend()" [disabled]="isLoading()" class="btn-success">
                <span *ngIf="isLoading()">â³ Sincronizando...</span>
                <span *ngIf="!isLoading()">â¬†ï¸ Sincronizar con Backend</span>
            </button>
        </div>
    </div>

    <!-- Filter Section -->


    <!-- Table Section -->
    <!-- Smart Table -->
    <app-smart-table [data]="products()" [config]="tableConfig" (selectionChange)="selectedProduct.set($event)">
    </app-smart-table>

    <div class="empty-state" *ngIf="products().length === 0">
        <p>Sube el archivo <code>base.xlsx</code> o agrega un producto nuevo para comenzar.</p>
    </div>
</div>